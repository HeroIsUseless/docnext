# web-worker是什么？
Web Worker 的作用，就是为 JavaScript 创造多线程环境，允许主线程创建 Worker 线程，将一些任务分配给后者运行。
这样的好处是，一些计算密集型或高延迟的任务，被 Worker 线程负担了，主线程（通常负责 UI 交互）就会很流畅，不会被阻塞或拖慢。
但是，这也造成了 Worker 比较耗费资源，不应该过度使用，而且一旦使用完毕，就应该关闭。

* 分配给 Worker 线程运行的脚本文件，必须与主线程的脚本文件同源。
* 无法读取主线程所在网页的 DOM 对象。
* Worker 线程和主线程不在同一个上下文环境，它们不能直接通信，必须通过消息完成。
* Worker 线程无法读取本地文件，即不能打开本机的文件系统（file://）。
* 通信是拷贝关系，即是传值而不是传址。浏览器内部的运行机制是，先将通信内容串行化，然后把串行化后的字符串发给 Worker，后者再将它还原。


* worker可以加载es6 module，只需要在初始化时加入 type: module参数即可。
* 对于react或者vue而言，可以引入useWorker包或者vue-worker包方便使用。
* 对于vite来说，本身对worker做了特殊优化，导入的时候在路径上加上`worker?`后，就可以直接调用该worker了，比较方便。
